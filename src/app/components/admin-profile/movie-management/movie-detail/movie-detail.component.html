
<div>
    <div class="bg-red-400 mb-3 p-3 border-round text-white" *ngIf="showErrorMessage">
        <li *ngFor="let errorMessage of errorMessages"> {{ errorMessage }}</li>
    </div>
    <table class="form-table">
        <tr>
            <th class="w-2">Poster: </th>
            <td colspan="5">
                <p-image *ngIf="imageUrl" [src]="imageUrl" [alt]="altText" width="300" height="450" [preview]="true"></p-image>
                <div class="flex flex-row align-items-center gap-3">
                    <p-fileUpload
                    *ngIf="!imageUrl"
                    #fileUpload
                    name="file"
                    accept="image/*"
                    mode="basic"
                    (onSelect)="onFileSelect($event)"
                    chooseLabel="Choose image"
                    ></p-fileUpload>
                    <p-button *ngIf="imageUrl" label="Clear" icon="pi pi-times" (click)="clearFileSelection()" severity="danger"></p-button>
                </div>
            </td>
        </tr>
        <tr>
            <th class="w-2">Movie Name<span class="required">*</span>: </th>
            <td colspan="5">
                <input type="text" maxlength="100" pInputText [(ngModel)]="movieDetail.movieName" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
            </td>
        </tr>
        <tr>
            <th class="w-2">Country<span class="required">*</span>: </th>
            <td colspan="5">
                <p-dropdown [options]="listCountry" [(ngModel)]="movieDetail.country" [styleClass]="'w-full'" [filter]="true" filterBy="codeName" optionLabel="codeName" optionValue="code"></p-dropdown>
            </td>
        </tr>
        <tr>
            <th class="w-2">Release Date: </th>
            <td colspan="5">
                <p-calendar [styleClass]="'w-full'" [(ngModel)]="movieDetail.releaseDate" [showIcon]="true"></p-calendar>
            </td>
        </tr>
        <tr>
            <th class="w-2">Director<span class="required">*</span>: </th>
            <td colspan="5">
                <p-multiSelect [options]="listDirector" optionLabel="codeName" optionValue="code" display="chip" [filter]="true"
                filterBy="codeName" [showClear]="true" [(ngModel)]="movieDetail.director" [styleClass]="'w-full'"></p-multiSelect>
            </td>
        </tr>
        <tr>
            <th class="w-2">Actor<span class="required">*</span>: </th>
            <td colspan="5">
                <p-multiSelect [options]="listActor" optionLabel="codeName" optionValue="code" display="chip" [filter]="true"
                filterBy="codeName" [showClear]="true" [(ngModel)]="movieDetail.actor" [styleClass]="'w-full'"></p-multiSelect>
            </td>
        </tr>
        <tr>
            <th class="w-2">Genre<span class="required">*</span>: </th>
            <td colspan="5">
                <p-multiSelect [options]="listGenre" optionLabel="codeName" optionValue="code" display="chip" [filter]="true"
                filterBy="codeName" [showClear]="true" [(ngModel)]="movieDetail.genre" [styleClass]="'w-full'"></p-multiSelect>
            </td>
        </tr>
        <tr>
            <th class="w-2">Rating: </th>
            <td colspan="5">
                <p-inputNumber [disabled]="true" styleClass="w-full" class="w-full" [(ngModel)]="movieDetail.rating" mode="decimal" [min]="0" [max]="10" [maxFractionDigits]="1"> </p-inputNumber>
            </td>
        </tr>
        <tr>
            <th class="w-2">Show<span class="required">*</span>: </th>
            <td colspan="5" class="flex flex-wrap gap-3">
                <div class="flex align-items-center">
                    <p-radioButton value="1" [(ngModel)]="movieDetail.isShow"></p-radioButton>
                    <label class="ml-2">Yes</label>
                </div>
                
                <div class="flex align-items-center">
                    <p-radioButton value="0" [(ngModel)]="movieDetail.isShow"></p-radioButton>
                    <label class="ml-2">No</label>
                </div>
            </td>
        </tr>
        <tr>
            <th class="w-2">Description<span class="required">*</span>: </th>
            <td colspan="5">
                <p-editor name="description" id="description" #quillEditor class="w-full" [style]="{ 'height': '40vh' }" [(ngModel)]="movieDetail.description"></p-editor>
            </td>
        </tr>
    </table>
    <div class="flex flex-row justify-content-end gap-3 mt-3">
        <p-button label="Cancel" severity="secondary" (onClick)="onCancel()" icon="pi pi-times"></p-button>
        <p-button label="Delete" severity="danger" (onClick)="onDelete()" icon="pi pi-delete-left"></p-button>
        <p-button label="Save" severity="primary" (onClick)="onSave()" icon="pi pi-save"></p-button>
    </div>
</div>